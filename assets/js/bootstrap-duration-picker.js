/**
* This creates a duration picker to be used when creating a new note
* Code adapted from: https://github.com/koss-lebedev/bootstrap-duration-picker
* @param {Object} t - The form element
*
* @return {Object} a duration picker
*/
!function(t){t.DurationPicker=function(n,s){const i={translations:{day:"day",hour:"hour",minute:"minute",second:"second",days:"days",hours:"hours",minutes:"minutes",seconds:"seconds"},showSeconds:!1,showDays:!0},a=this;a.settings={};const e=t(n);a.init=function(){a.settings=t.extend({},i,s);const n=t("<div>",{class:"bdp-input",html:[g("days",!a.settings.showDays),g("hours",!1,a.settings.showDays?23:99999),g("minutes",!1,59)]});e.after(n).hide(),""===e.val()&&e.val(0),p(e.val(),!0)};const o=[],u=[],r=e.hasClass("disabled")||"disabled"===e.attr("disabled");let d=0,c=0,l=0,h=0;function f(t){return a.settings.translations[t]}function v(t,n){const s=1===t?n.substring(0,n.length-1):n;u[n].text(f(s))}function m(t=!1){const n=h+60*l+60*c*60+24*d*60*60;e.val(n),e.change(),v(d,"days"),v(c,"hours"),v(l,"minutes"),o.days.val(d),o.hours.val(c),o.minutes.val(l),"function"==typeof a.settings.onChanged&&a.settings.onChanged(e.val(),t)}function y(){d=parseInt(o.days.val(),10)||0,c=parseInt(o.hours.val(),10)||0,l=parseInt(o.minutes.val(),10)||0,m()}function g(n,s,i){const a=t("<input>",{class:"form-control input-sm",type:"number",min:0,value:0,disabled:r}).change(y);i&&a.attr("max",i),o[n]=a;const e=t("<div>",{id:`bdp-${n}-label`,text:f(n)});return u[n]=e,t("<div>",{class:`bdp-block ${s?"hidden":""}`,html:[a,e]})}function p(t,n){e.val(t);let s=parseInt(t,10);h=s%60,s=Math.floor(s/60),l=s%60,s=Math.floor(s/60),a.settings.showDays?(c=s%24,d=Math.floor(s/24)):(c=s,d=0),m(n)}a.getValue=function(){return e.val()},a.setValue=function(t){p(t,!0)},a.destroy=function(){e.next(".bdp-input").remove(),e.data("durationPicker",null).show()},a.init()},t.fn.durationPicker=function(n){return this.each(function(){if(void 0===t(this).data("durationPicker")){const s=new t.DurationPicker(this,n);t(this).data("durationPicker",s)}})}}(jQuery);